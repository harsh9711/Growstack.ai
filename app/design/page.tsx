"use client";
import React, { useEffect, useState } from 'react';

const Design = () => {
    const [Hide,setHide]=useState(false);
  useEffect(() => {
    const handleScroll = () => {
      const scrollTop = window.scrollY;
      const maxScroll = document.body.scrollHeight - window.innerHeight;

      // Normalize scroll value between 0 and 1
      const scrollFraction = scrollTop / maxScroll;

      // Get the path of the second SVG (path2)
      const path2 = document.getElementById('path2') as SVGPathElement | null;
      const svgEndCircle = document.getElementById('svg-end-circle');

      if (path2) {
        const pathLength = path2.getTotalLength(); 

        path2.style.strokeDasharray = `${pathLength}`;
        path2.style.strokeDashoffset = `${pathLength}`; 

        const dashOffset = pathLength * -(1 - scrollFraction);
        if(dashOffset===0){
            setHide(true);
        }
        else{
            setHide(false);
        }
        // Update the stroke dash offset to create the covering/uncovering effect
        path2.style.strokeDashoffset = dashOffset.toString();
      }
    };

    // Attach the scroll event listener
    document.addEventListener('scroll', handleScroll);

    // Cleanup the event listener when the component is unmounted
    return () => {
      document.removeEventListener('scroll', handleScroll);
    };
  }, []);

  return (
    <div className='items-center justify-center mx-auto flex flex-col'>
      <div className='w-96 h-96 border border-red-500'>BOX1</div>
      <div className="svg-container translate-x-96 translate-y-48">
        {/* First SVG (static) */}
        <svg id="line1" width="795" height="1451" viewBox="0 0 795 1451" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path
            id="path1"
            d="M112.001 0.5C74.3757 57.1442 72.0012 176 335.501 104.5C599.001 33 675.002 138.5 675.002 138.5C675.002 138.5 761.502 254.5 761.502 576.5C761.502 576.5 876.002 716 672.502 758.5C469.002 801 294.001 661.939 126.001 758.5C30.8521 813.189 5.68382 1033.94 1.27595 1082.16C0.697884 1088.49 0.483681 1094.59 0.816088 1100.93C3.16292 1145.71 22.9342 1335.37 189.5 1353C378.499 1373 429.5 1349.5 419 1450"
            stroke="#034737"
            stroke-dasharray="15 15"
          />
        </svg>

        {/* Second SVG (scroll animation) */}
        <svg id="line2" width="226" height="156" viewBox="0 0 226 156" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path id="path2" 
          d="M225 131.5C-3.49982 200.335 -17.9592 86.1442 19.6666 29.5L39.6679 2" 
          stroke="#034737" strokeWidth="6" />
        </svg>
   <svg className='translate-x-72 translate-y-48' width="60" height="60" viewBox="0 0 60 60" fill="none" xmlns="http://www.w3.org/2000/svg">
<circle cx="30" cy="30" r="30" fill="#034737"/>
<path fill-rule="evenodd" clip-rule="evenodd" d="M31.9557 43.625H28.0413C27.9762 43.6264 27.9218 43.682 27.9218 43.7514V44.2361V44.2347C27.9537 44.6861 28.0772 45.1264 28.2843 45.5236C28.425 45.7945 28.587 46 28.7317 46H31.2691C31.447 46 31.6369 45.7153 31.7922 45.3681V45.3667C31.9555 45.0139 32.0511 44.6334 32.0777 44.2431C32.0777 44.0778 32.0764 43.9139 32.0737 43.7486C32.0724 43.6806 32.0193 43.625 31.9542 43.625H31.9557ZM27.4451 40.2153C27.3322 40.2209 27.2181 40.2181 27.1052 40.2098C26.9631 40.2098 27.2473 40.2195 27.2473 40.2806V41.1042C27.2659 41.6139 27.3601 42.1181 27.5248 42.5973C27.6297 42.8945 27.7346 43.1181 27.8036 43.1181H32.1945C32.2662 43.1181 32.3724 42.8945 32.4773 42.5958C32.642 42.1167 32.7336 41.6125 32.7495 41.1028V40.2806C32.7495 40.2028 32.65 40.2139 32.638 40.2139L27.4451 40.2153ZM29.5961 32.45H29.5974C29.6306 32.4737 29.6492 32.5125 29.6492 32.5528V39.5846C29.6492 39.654 29.5961 39.7096 29.5297 39.7096H27.7239C27.6695 39.7096 27.623 39.6721 27.6084 39.6179C27.5115 39.2416 27.319 38.5416 27.064 37.8068L26.5714 36.3874C26.266 35.504 25.8717 35.1346 25.156 34.4596C25.1082 34.4152 25.0365 34.4165 24.9914 34.4638L22.6041 36.961C22.5629 37.004 22.5563 37.0707 22.5895 37.1193C23.094 37.9165 23.1405 38.9387 22.7076 39.7818C22.2761 40.6235 21.437 41.1498 20.5221 41.1498C19.7374 41.1512 18.9979 40.7624 18.5292 40.1026C18.0605 39.4429 17.9184 38.5902 18.1454 37.8041C18.3738 37.0166 18.9434 36.3888 19.683 36.1124C20.4212 35.8346 21.2431 35.9388 21.8963 36.3943C21.9441 36.4277 22.0079 36.4221 22.0477 36.3791L24.4058 33.9124C24.4284 33.8888 24.4417 33.8555 24.4403 33.8221C24.4403 33.7874 24.4271 33.7555 24.4032 33.7332L24.0115 33.3499C23.3967 32.7069 22.9055 31.9472 22.5642 31.1124C22.5483 31.0735 22.5151 31.0458 22.4766 31.0388C22.4381 31.0305 22.3983 31.043 22.3704 31.0722L20.9935 32.5124C20.8979 32.6124 20.7598 32.6541 20.6283 32.6235L19.7162 32.461C19.6617 32.4513 19.6086 32.4805 19.5874 32.5319C19.1957 33.4305 18.2291 33.8846 17.3275 33.5958C16.426 33.3069 15.8696 32.3624 16.0263 31.3902C16.1843 30.418 17.0075 29.718 17.9489 29.7555C18.8916 29.793 19.6617 30.5569 19.7481 31.5388C19.752 31.5958 19.7932 31.6416 19.8463 31.6513L20.5195 31.7708C20.558 31.7777 20.5965 31.7638 20.6231 31.7346L22.142 30.1458C22.1766 30.1096 22.2217 30.0749 22.2031 29.9985C21.9734 29.0374 21.911 28.0402 22.0225 27.0569C22.0278 27.0083 22.0066 26.9611 21.9668 26.9361C21.8778 26.8777 20.7917 25.7236 20.6244 25.5472H20.6231C20.5965 25.518 20.558 25.5041 20.5195 25.5125L19.8463 25.6319V25.6305C19.7932 25.6403 19.7521 25.6861 19.7481 25.743C19.6618 26.7264 18.8917 27.4889 17.9489 27.5263C17.0076 27.5638 16.1843 26.8638 16.0264 25.8916C15.8697 24.9194 16.426 23.975 17.3276 23.6861C18.2291 23.3972 19.1957 23.8528 19.5874 24.75C19.61 24.8014 19.6618 24.8305 19.7162 24.8208L20.6217 24.6597V24.6611C20.7558 24.6278 20.8966 24.6694 20.9922 24.7736L22.0464 25.8764V25.875C22.0756 25.9069 22.1195 25.9194 22.1619 25.9083C22.2031 25.8958 22.235 25.8625 22.2456 25.8194C22.5271 24.7125 23.013 23.675 23.6769 22.7653C23.7141 22.7153 23.7088 22.6445 23.6663 22.6014L22.0464 20.907H22.0478C22.0079 20.8653 21.9442 20.8584 21.8964 20.8917C21.4901 21.1736 21.0121 21.3251 20.5221 21.3251C19.1519 21.3251 18.0419 20.1626 18.0419 18.7292C18.0405 18.0403 18.3008 17.3806 18.7668 16.8931C19.2315 16.407 19.8622 16.1334 20.5208 16.1334V16.1348C21.4356 16.1334 22.2775 16.6598 22.7103 17.5029C23.1431 18.3473 23.0967 19.3709 22.5895 20.1681C22.5576 20.2167 22.5642 20.2834 22.6041 20.3265L24.1708 21.964C24.1934 21.989 24.224 22.0015 24.2558 22.0015C24.2877 22.0015 24.3196 21.989 24.3408 21.964C25.0777 21.1765 25.9567 20.5501 26.9273 20.1209C26.9631 20.1042 26.9897 20.0709 26.9977 20.0292C27.0056 19.989 26.9923 19.9459 26.9645 19.9167L26.3006 19.2223C26.205 19.1223 26.1652 18.9779 26.1944 18.8404L26.3497 17.8862C26.359 17.8307 26.3311 17.7737 26.282 17.7515C25.6566 17.4529 25.2371 16.8223 25.1866 16.1057C25.1375 15.389 25.4654 14.7015 26.043 14.3126C26.6219 13.9237 27.3561 13.8959 27.9589 14.239C28.5617 14.5834 28.9375 15.2445 28.9375 15.9626H28.9362C28.9375 16.9779 28.1979 17.8265 27.2313 17.9182C27.1769 17.9237 27.1331 17.9668 27.1238 18.0223L27.0083 18.7293C27.0016 18.7695 27.0149 18.8098 27.0428 18.8376L27.8381 19.6695C27.874 19.707 27.9058 19.7668 27.9895 19.7431H27.9881C29.3119 19.3765 30.7034 19.3695 32.0313 19.7251C32.0765 19.7376 32.1243 19.7209 32.1535 19.682L32.9568 18.8362C32.9847 18.807 32.998 18.7668 32.9913 18.7265L32.8771 18.0223C32.8678 17.9668 32.824 17.9237 32.7696 17.9195C31.8309 17.8279 31.1019 17.0237 31.0661 16.0376C31.0315 15.0529 31.6994 14.1918 32.6289 14.0279C33.5596 13.864 34.4612 14.446 34.7373 15.389C35.0135 16.332 34.578 17.3431 33.7189 17.7515C33.6698 17.7737 33.6419 17.8306 33.6512 17.8862L33.8052 18.8334C33.8384 18.9723 33.7986 19.1209 33.7003 19.2223L33.059 19.8918C33.0312 19.9209 33.0179 19.964 33.0259 20.0043C33.0338 20.0459 33.0604 20.0793 33.0976 20.0959C34.0721 20.5181 34.9564 21.1376 35.7 21.9209C35.7225 21.9445 35.7531 21.9584 35.7849 21.9584C35.8168 21.9584 35.8473 21.9445 35.8699 21.9209L37.3955 20.3251C37.4353 20.2834 37.442 20.2167 37.4101 20.1681C36.9042 19.3709 36.8591 18.3487 37.2906 17.5056C37.7235 16.664 38.5626 16.1376 39.4761 16.1376V16.1362C40.2622 16.1348 41.0004 16.5237 41.4691 17.1834C41.9378 17.8431 42.0799 18.6959 41.8528 19.482C41.6258 20.2681 41.0548 20.8959 40.3166 21.1736C39.577 21.4514 38.7551 21.3472 38.1019 20.8917C38.0541 20.8584 37.9917 20.8639 37.9505 20.907L36.3798 22.5514C36.3373 22.5958 36.3333 22.6667 36.3692 22.7167C37.0397 23.6236 37.523 24.6667 37.7899 25.7792C37.8005 25.8222 37.8324 25.8569 37.8735 25.8694C37.9147 25.8819 37.9598 25.8694 37.9904 25.8375L39.0075 24.7736C39.1031 24.6736 39.2411 24.632 39.3726 24.6625L40.2848 24.8236V24.825C40.3379 24.8347 40.391 24.8056 40.4135 24.7542C40.8039 23.8556 41.7705 23.4 42.6734 23.6889C43.5749 23.9792 44.1313 24.9222 43.9733 25.8958C43.8166 26.868 42.9934 27.568 42.0507 27.5305C41.1093 27.493 40.3392 26.7292 40.2529 25.7472C40.2489 25.6903 40.2077 25.6431 40.1533 25.6347L39.4801 25.5153H39.4814C39.4429 25.5083 39.4031 25.5208 39.3765 25.5514L38.1298 26.8528C38.066 26.9181 37.985 26.9333 37.9943 27.0347C38.082 28.0181 38.0036 29.0097 37.762 29.9639C37.7421 30.0417 37.7872 30.075 37.8217 30.1111L39.3765 31.7375H39.3752C39.4018 31.7667 39.4416 31.7805 39.4801 31.7736L40.1533 31.6542H40.1519C40.2064 31.6444 40.2475 31.5986 40.2515 31.5417C40.3378 30.5597 41.1066 29.7972 42.0493 29.7583C42.992 29.7208 43.8139 30.4208 43.9719 31.3931C44.1299 32.3653 43.5723 33.3097 42.6707 33.5986C41.7692 33.8875 40.8026 33.4319 40.4122 32.5347C40.3896 32.4833 40.3365 32.4542 40.2834 32.4639L39.3779 32.625C39.2438 32.6597 39.103 32.618 39.0061 32.5153L37.5933 31.0375C37.5641 31.007 37.5243 30.9945 37.4858 31.0028C37.446 31.0111 37.4141 31.0389 37.3982 31.0764C36.9985 32.0653 36.4196 32.9625 35.6933 33.7208C35.6309 33.7861 35.5606 33.8806 35.6402 33.9639L37.9519 36.3819C37.9917 36.425 38.0554 36.4319 38.1032 36.3986C38.5095 36.1153 38.9875 35.9639 39.4775 35.9639C40.1347 35.9625 40.7667 36.2361 41.2315 36.7222C41.6975 37.2083 41.9591 37.8694 41.9591 38.5569C41.9591 39.2458 41.6988 39.9055 41.2341 40.393C40.7681 40.8791 40.1374 41.1527 39.4801 41.1527C38.564 41.1541 37.7222 40.6277 37.2893 39.7847C36.8565 38.9416 36.9029 37.9166 37.4101 37.1194C37.442 37.0708 37.4354 37.0041 37.3955 36.9611L35.1025 34.5625V34.5639C35.056 34.5153 34.983 34.5139 34.9365 34.5597C34.3589 35.1222 33.7999 35.5625 33.5132 36.3875L33.0206 37.8069C32.7656 38.5402 32.5731 39.2416 32.4762 39.618H32.4748C32.4616 39.6722 32.4138 39.7097 32.3593 39.7097H30.5549C30.4885 39.7097 30.4354 39.6541 30.4354 39.5847V32.5806C30.4354 32.5362 30.458 32.4959 30.4951 32.4737L32.6806 31.1543C32.8679 31.0404 32.9329 30.789 32.824 30.5932C32.7152 30.396 32.4749 30.3293 32.2876 30.4432L30.1247 31.7487C30.0849 31.7737 30.0357 31.771 29.9972 31.7432L28.1052 30.3918H28.1065C27.9286 30.2862 27.7029 30.3404 27.5874 30.5168C27.4719 30.6932 27.505 30.9321 27.6644 31.0668L29.5961 32.45Z" fill={Hide?"white":"#034737"}/>
</svg>

      </div>

      <div className='w-96 h-96 border border-red-500 mt-60'>BOX2</div>
      <div className='w-96 h-96 border border-red-500'>BOX3</div>
      <div className='w-96 h-96 border border-red-500'>BOX4</div>
      <div className='w-96 h-96 border border-red-500'>BOX5</div>
      <div className='w-96 h-96 border border-red-500'>BOX6</div>
    </div>
  );
};

export default Design;
